---
import { Image } from 'astro:assets';

interface Still {
  src: ImageMetadata;
  filmSlug: string;
}

interface Props {
  stills: Still[];
}

const { stills } = Astro.props;
---

<div class="grid grid-cols-1 md:grid-cols-3 gap-3">
  {stills.map((still) => (
    <a
      href={`/films#${still.filmSlug}`}
      class="group block aspect-[16/9] rounded overflow-hidden relative"
    >
      <Image
        src={still.src}
        alt={`Still from ${still.filmSlug}`}
        class="w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-700"
        widths={[400, 600, 800]}
        sizes="(max-width: 768px) 100vw, 33vw"
        quality={80}
      />
      <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300"></div>
    </a>
  ))}
</div>
