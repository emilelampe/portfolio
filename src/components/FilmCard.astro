---
interface Props {
  id: string;
  title: string;
  description: string;
  youtubeId: string;
  reverse?: boolean;
  index?: number;
}

const { id, title, description, youtubeId, reverse = false, index = 1 } = Astro.props;
---

<article id={id} class="grid md:grid-cols-12 gap-8 items-center">
    {reverse ? (
      <>
        <div class="md:col-span-4 md:col-start-1 space-y-4 order-2 md:order-1">
          <span class="label">{String(index).padStart(2, '0')}</span>
          <h2 class="text-2xl md:text-3xl">{title}</h2>
          <div class="accent-line"></div>
          <p class="text-muted leading-relaxed">{description}</p>
        </div>
        <div class="md:col-span-7 md:col-start-6 aspect-video bg-white/5 rounded overflow-hidden order-1 md:order-2">
          <iframe
            width="100%"
            height="100%"
            src={`https://www.youtube.com/embed/${youtubeId}`}
            title={title}
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            loading="lazy"
            class="w-full h-full"
          ></iframe>
        </div>
      </>
    ) : (
      <>
        <div class="md:col-span-7 md:col-start-1 aspect-video bg-white/5 rounded overflow-hidden">
          <iframe
            width="100%"
            height="100%"
            src={`https://www.youtube.com/embed/${youtubeId}`}
            title={title}
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            loading="lazy"
            class="w-full h-full"
          ></iframe>
        </div>
        <div class="md:col-span-4 md:col-start-9 space-y-4">
          <span class="label">{String(index).padStart(2, '0')}</span>
          <h2 class="text-2xl md:text-3xl">{title}</h2>
          <div class="accent-line"></div>
          <p class="text-muted leading-relaxed">{description}</p>
        </div>
      </>
    )}
</article>
